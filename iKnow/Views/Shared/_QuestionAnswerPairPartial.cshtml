@using iKnow.Models
@model IDictionary<Question, Answer>

@foreach (var questionAnswer in Model) {
    <div class="question-answer-inner">
        <div class="question-answer-pair-container">
            @if (questionAnswer.Key.Topics != null && questionAnswer.Key.Topics.Count > 0) {
                <span class="question-answer-topic">
                    Topic &middot;
                    @Html.ActionLink(questionAnswer.Key.Topics.First().Name, "Detail", "Topic", new { id = questionAnswer.Key.Topics.First().Id }, null)
                </span>
            }

            <h3 class="question-answer-name">@Html.ActionLink(questionAnswer.Key.Title, "Detail", "Question", new { id = questionAnswer.Key.Id }, new { target = "_blank" }) </h3>
            <div class="question-author">
                @questionAnswer.Key.AppUser.UserName @*TODO add
                intro*@
            </div>
            <div class="short-answer-container">
                <div class="question-answer-content">
                    @Html.Raw(questionAnswer.Value.ShortContext)
                    <span class="showFullAnswer">(more)</span>
                </div>
            </div>
            <div class="expaneded-answer-container hide">
                <div class="question-answer-content answer-content">
                    @Html.Raw(questionAnswer.Value.Content)
                    <div class="answer-footer">
                        Answered @questionAnswer.Value.CreatedDate.ToString("MMM d, yyyy")
                        <a class="collapse-answer">
                            <i class="fa fa-angle-double-up" aria-hidden="true"></i>
                            Collapse
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
}
